{"name":"Static-combo","tagline":"A Taobao.com-style combo handler in Node.js.","body":"# Static Combo Handler\r\n\r\n--------------\r\nA static combo handler in NodeJS. \r\nIf you want to use TaoBao-Style combo-hander, please visit [here](https://github.com/lmtdit/static-combo/tree/v1.0.0).\r\n\r\n## Install\r\n```\r\nnpm i static-combo-handler\r\n```\r\n\r\n## Usage\r\n\r\n```CoffeeScript\r\nExpress = require 'express'\r\ncombo = require 'static-combo-handler'\r\napp = Express()\r\nopt = {\r\n    \"port\": 3333,\r\n    \"assetsPath\": \"./path-to-static-files-dir\",\r\n    \"combo_tag\":\"??\",\r\n    \"combo_dir_tag\":\"__\",\r\n    \"combo_mod_split\":\",\"\r\n}\r\napp.set 'port', process.env.PORT or opt.port\r\napp.use combo(opt)\r\napp.listen app.get('port')\r\n```\r\n\r\n## Demo\r\n\r\n```shell\r\nnpm install\r\nnpm install supervisor \r\nsupervisor combo.js\r\n```\r\n\r\nURL access as:\r\n```markup\r\n<!-- combo css -->\r\nhttp://localhost:3333/??assets/css__common.css,index.css\r\nhttp://localhost:3333/??assets/css__common.css,index.css,v=2.1.1\r\nhttp://localhost:3333/??assets/css__common.css,index.css__v=2.1.1\r\n<!-- debug -->\r\nhttp://localhost:3333/??assets/css__common.css,index.css__debug\r\nhttp://localhost:3333/??assets/css__common.css,index.css,v=2.1.1__debug\r\nhttp://localhost:3333/??assets/css__common.css,index.css__v=2.1.1__debug\r\n<!-- or -->\r\nhttp://localhost:3333/??assets_css__common.css,index.css\r\nhttp://localhost:3333/??assets__css/common.css,css/index.css\r\n\r\n\r\n<!-- combo javascript -->\r\nhttp://localhost:3333/??assets/js__jquery.js,vmcore.js\r\nhttp://localhost:3333/??assets/js__jquery.js,vmcore.js,v=2.1.1\r\nhttp://localhost:3333/??assets/js__jquery.js,vmcore.js__v=2.1.1\r\n<!-- debug -->\r\nhttp://localhost:3333/??assets/js__jquery.js,vmcore.js__debug\r\nhttp://localhost:3333/??assets/js__jquery.js,vmcore.js,v=2.1.1__debug\r\nhttp://localhost:3333/??assets/js__jquery.js,vmcore.js__v=2.1.1__debug\r\n<!-- or -->\r\nhttp://localhost:3333/??assets_js__jquery.js,vmcore.js\r\nhttp://localhost:3333/??assets__js/jquery.js,js/vmcore.js\r\n\r\n\r\n<!-- no combo -->\r\nhttp://localhost:3333/assets/js/jquery.js\r\nhttp://localhost:3333/assets/css/index.js\r\nhttp://localhost:3333/assets/img/cool.png\r\n```\r\n\r\n## Deploy server to production environment\r\n\r\n### Step 1: Install PM2\r\n```\r\nnpm install pm2 -g\r\n```\r\n\r\n> PM2 is a production process manager for Node.js applications with a built-in load balancer. It allows you to keep applications alive forever, to reload them without downtime and to facilitate common system admin tasks.\r\n\r\n\r\n### Step 2: Install node module\r\n```\r\nnpm install\r\n```\r\n\r\n### Step 3: Start combo server in the production environment\r\n```\r\nsh bin/run.sh\r\n```\r\n\r\n*Restart the server*\r\n\r\n```\r\nsh bin/restart.sh\r\n```\r\n\r\n*Stop the server*\r\n```\r\nsh bin/stop.sh\r\n```\r\n\r\n## License\r\nMIT.\r\n\r\n## The End.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}